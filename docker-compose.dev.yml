version: "3.4"

services:
  identifier:
    restart: "no"
    ports:
      - "80:80"
  dispatcher:
    restart: "no"
  database:
    restart: "no"
    environment:
      LOG_OUTGOING_SPARQL_QUERIES: "false"
      LOG_INCOMING_SPARQL_QUERIES: "false"
      LOG_DELTA_MESSAGES : "true"
      LOG_DELTA_CLIENT_COMMUNICATION : "true"
  virtuoso:
    ports:
      - "8890:8890"
    restart: "no"
  resource:
    restart: "no"
  cache:
    restart: "no"
  mocklogin:
    image: lblod/mock-login-service:latest
    links:
      - database:database
    restart: "no"
  adressenregister:
    restart: "no"
  jobs-controller:
    restart: "no"
  delta-producer-background-initiator:
    restart: "no"
  delta-producer-pub-graph-maintainer:
    restart: "no"
  delta-producer-dump-file-publisher:
    restart: "no"
  publication-triplestore:
    restart: "no"
    ports:
      - "8892:8890"
  file:
    restart: "no"
  delta-notifier:
    restart: "no"
    environment:
      DEBUG_DELTA_SEND: "true"
      DEBUG_DELTA_MATCH: "true"
  yasgui:
    image: erikap/yasgui
    ports:
      - 8891:80
    links:
      - database:database
    environment:
      ENABLE_ENDPOINT_SELECTOR: "true"
      DEFAULT_SPARQL_ENDPOINT: "http://dennisve-dev.s.redhost.be:8890/sparql"
